(defvar calc-result "0")

(defwidget calculator-widget []
  (box :class "calculator-widget" :valign "fill" :vexpand true :orientation "v"
    (input
      :class "calc-input"
      :value ""
      :onchange "${eww} update calc-result=$(calc \"{}\" | sed 's/\\s//')"
      :halign "start")
    (button
      :class "calc-result"
      :halign "end"
      :onclick "wl-copy ${calc-result}" "= ${calc-result}"
    )
  )
)
